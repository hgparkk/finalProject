<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.mapper.attach">

<insert id="insertAttach" parameterType="com.codingbamboo.finalproject.attach.dto.AttachDTO">
	INSERT INTO attach(
		attach_no,
		attach_name,
		attach_original_name,
		attach_size,
		attach_fancy_size,
		attach_type,
		attach_path
	)VALUES(
		seq_attach.nextval,
		#{attachName},
		#{attachOriginalName},
		#{attachSize},
		#{attachFancySize},
		#{attachType},
		#{attachPath}
	)
</insert>
<select id="getAttachList" parameterType="int" resultType="com.codingbamboo.finalproject.attach.dto.AttachDTO">
    SELECT
        a.attach_no,
        a.attach_name,
        a.attach_original_name,
        a.attach_size,
        a.attach_fancy_size,
        a.attach_type,
        a.attach_path
    FROM
        attach a
    JOIN
        notice_attach na ON a.attach_no = na.attach_no
    WHERE 1=1
      AND na.notice_no = #{noticeNo}
</select>









</mapper>